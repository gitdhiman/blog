
var documents = [{
    "id": 0,
    "url": "https://gitdhiman.github.io/404.html",
    "title": "",
    "body": " 404 Page not found :(  The requested page could not be found. "
    }, {
    "id": 1,
    "url": "https://gitdhiman.github.io/about/",
    "title": "About Me",
    "body": "This is where you put the contents of your About page. Like all your pages, it’s in Markdown format. This website is powered by fastpages 1.       a blogging platform that natively supports Jupyter notebooks in addition to other formats.  &#8617;    "
    }, {
    "id": 2,
    "url": "https://gitdhiman.github.io/categories/",
    "title": "Tags",
    "body": "Contents: {% if site. categories. size &gt; 0 %} {% for category in site. categories %} {% capture category_name %}{{ category | first }}{% endcapture %} {{ category_name }}{% endfor %}{% endif %} {% for category in site. categories %}  {% capture category_name %}{{ category | first }}{% endcapture %} &lt;h3 id = {{ category_name }} &gt;&lt;i class= fas fa-tags category-tags-icon &gt;&lt;/i&gt;&lt;/i&gt; {{ category_name }}&lt;/h3&gt;&lt;a name= {{ category_name | slugize }} &gt;&lt;/a&gt;{% for post in site. categories[category_name] %}{%- assign date_format = site. minima. date_format | default:  %b %-d, %Y  -%}&lt;article class= archive-item &gt; &lt;p class= post-meta post-meta-title &gt;&lt;a class= page-meta  href= {{ site. baseurl }}{{ post. url }} &gt;{{post. title}}&lt;/a&gt; • {{ post. date | date: date_format }}&lt;/p&gt;&lt;/article&gt;{% endfor %} {% endfor %}"
    }, {
    "id": 3,
    "url": "https://gitdhiman.github.io/images/copied_from_nb/",
    "title": "",
    "body": "WarningDo not manually save images into this folder. This is used by GitHub Actions to automatically copy images.  Any images you save into this folder could be deleted at build time. "
    }, {
    "id": 4,
    "url": "https://gitdhiman.github.io/python/2020/03/29/face-detection.html",
    "title": "Face Detection using Viola-Jones Object Detection Framework",
    "body": "2020/03/29 -           The Viola-Jones algorithm is named after two computer vision researchers who proposed the method in 2001: Paul Viola and Michael Jones. They developed a general object detection framework that was able to provide competitive object detection rates in real time. It can be used to solve a variety of detection problems, but the main motivation comes from face detection. The Viola-Jones algorithm has 4 main steps: Selecting Haar-like featuresCreating an integral imageRunning AdaBoost trainingCreating classifier cascades      import cv2 as cvimport urllib. request# example imageimg_url = &quot;https://www. beatlesbible. com/wp/media/usa_beatles-vi. jpg&quot;img_filename = &quot;image. jpg&quot;urllib. request. urlretrieve(img_url, img_filename)# pre-trained classifierurl = &quot;https://raw. githubusercontent. com/opencv/opencv/master/data/haarcascades/haarcascade_frontalface_alt. xml&quot;filename = &quot;haarcascade_frontalface_alt. xml&quot;urllib. request. urlretrieve(url, filename)# Read image from your local file systemoriginal_image = cv. imread(img_filename)# Convert color image to grayscalegrayscale_image = cv. cvtColor(original_image, cv. COLOR_BGR2GRAY)# Load the classifier and create a cascade object for face detectionface_cascade = cv. CascadeClassifier(filename)detected_faces = face_cascade. detectMultiScale(grayscale_image)for (column, row, width, height) in detected_faces:  cv. rectangle(    original_image, (column, row), (column + width, row + height), (0, 255, 0), 2  )                 #collapse-hidefrom google. colab. patches import cv2_imshowcv2_imshow(original_image)       "
    }, {
    "id": 5,
    "url": "https://gitdhiman.github.io/personal-finance/2020/03/17/support-resistance-trendlines.html",
    "title": "Identify support and resistance trend lines",
    "body": "2020/03/17 -           An area of support is where the price of an asset tends to stop falling, and an area of resistance is where the price tends to stop rising.              #collapse-hidealt. layer(plot_price, plot_low52 + plot_high52). interactive()       Pivot Points : Our points are going to be the closing prices at a given time. We can refer to these points in the chart as peaks and troughs or as local maxima and local minima. Naive method: A pivot point would require the point preceding and succeeding to be both lower or both higher than a current point. Numerical Differentiation method: A far more elegant approach is to use the numerical derivative of the closing price to identify the points. The first derivative is the rate of change or effectively the momentum or velocity of the closing price, while the second derivative indicates the rate of change of the first derivative or its acceleration. Trend Line : A trend line is a bounding line for the price movement of a security. It is formed when a diagonal line can be drawn between a minimum of three price pivot points. After computing all pivot points. A minimum of 3 points could be selected in n(n-1)(n-2) ways and such enumeration is of algorithmic complexity O(n³). These points will not always be on a straight line so there will also be some degree of error. The degree of error will be important since we need to filter out incorrect point sets and include ones that are correct. Given 3 points, a best fit line can be found which is exactly what a linear regression computes. It finds a line which best fits the 3 or more points based on minimizing the error. The error is typically the sum of squared residuals where the residuals are equivalent to the distance measure as given above.       hist = hist[-200*5:]from matplotlib. pyplot import figurefigure(num=None, figsize=(12, 6), dpi=100, facecolor=&#39;w&#39;, edgecolor=&#39;w&#39;)fig = trendln. plot_sup_res_date(hist. Close, hist. index, window=125, fromwindows = False)# plt. savefig(&#39;suppres. svg&#39;, format=&#39;svg&#39;)plt. show()plt. clf();  &lt;Figure size 432x288 with 0 Axes&gt;  "
    }, {
    "id": 6,
    "url": "https://gitdhiman.github.io/personal-finance/2020/03/15/best-performing-sectors.html",
    "title": "Identify sectors expected to perform well in near future",
    "body": "2020/03/15 -           Here I find out the sectors that are delivering diminishing returns i. e. returns are decreasing on lower time frames compared to higher time frames. The second criterion is to shortlist sectors that took a maximum beating recently.       df = pd. read_csv(&quot;https://www1. nseindia. com/content/indices/mir. csv&quot;, header=None)          mask_diminishing_returns = (  (df[&quot;12m&quot;] &gt; df[&quot;6m&quot;]) &amp; (df[&quot;6m&quot;] &gt; df[&quot;3m&quot;]) &amp; (df[&quot;3m&quot;] &gt; df[&quot;1m&quot;]))df. loc[mask_diminishing_returns, &quot;diminishing_returns&quot;] = Truedf = df. sort_values(  by=[&quot;diminishing_returns&quot;, &quot;12m&quot;, &quot;6m&quot;, &quot;3m&quot;, &quot;1m&quot;], ascending=False)                 #collapse-hidehtml     Performance of various indices as of end February 2020 (in %)          1m    3m    6m    12m    diminishing_returns        Sector                                          Nifty Realty            -15. 25%            -0. 53%            5. 00%            21. 85%            True                        Nifty Services Sector            -5. 31%            -4. 44%            3. 09%            9. 61%            True                        Nifty 500            -6. 34%            -5. 89%            2. 88%            3. 13%            True                        Nifty Bank            -5. 47%            -8. 76%            6. 27%            8. 80%            False                        Nifty 50            -6. 36%            -7. 09%            1. 62%            3. 79%            False                        Nifty 100            -6. 38%            -7. 11%            1. 45%            3. 25%            False                        Nifty Infrastructure            -7. 40%            -9. 39%            0. 34%            3. 21%            False                        Nifty50 USD            -7. 41%            -7. 64%            0. 55%            2. 29%            False                        Nifty MNC            -3. 66%            -3. 79%            7. 24%            1. 36%            False                        Nifty Midcap 100            -6. 80%            -2. 53%            7. 25%            0. 39%            False                        Nifty FMCG            -4. 76%            -5. 38%            0. 18%            0. 16%            False                        Nifty Next 50            -6. 41%            -7. 23%            0. 29%            -0. 12%            False                        Nifty IT            -5. 77%            1. 43%            -4. 98%            -3. 30%            False                        Nifty Energy            -8. 00%            -15. 90%            -5. 08%            -7. 88%            False                        Nifty Pharma            -6. 90%            -7. 49%            -6. 14%            -14. 72%            False                        Nifty PSE            -9. 86%            -16. 72%            -10. 32%            -15. 98%            False                        Nifty PSU Bank            -17. 77%            -27. 13%            -21. 37%            -29. 53%            False          Once you identify the beaten down sectors, you can check the stocks under those sectors. Both the sector and stocks should confirm the reversal. As an investor, it is important to understand that there is a correlation between the economic cycle, stock market cycle and the performance of various sectors of the economy. During the early cycle, it is better to invest in interest-rate sensitive stocks like consumer discretionary, financials, real estate, industrial and transportation. You should avoid, communications, utilities, and energy sector stocks. During the middle of the cycle, you can invest in IT and capital goods stocks. Whereas you should avoid, metals and utilities during this phase. During the late cycle, you can invest in energy, metals, health care and the utilities and you can skip the IT and consumer discretionary stocks. Best sectors for investment during Economic Slowdown are FMCG, utilities and health care. Investment in Industrials, IT and Real Estate should be avoided during this time.  "
    }, {
    "id": 7,
    "url": "https://gitdhiman.github.io/markdown/2020/02/29/what-is-clv.html",
    "title": "What is customer lifetime value?",
    "body": "2020/02/29 -  In most cases value of a firm is profits from existing and future customers (a. k. a. Customer Equity). Research done by Frederick Reichheld of Bain &amp; Company (nventor of the net promoter score) showed increasing customer retention rates by 5% increased profits by 25% to 95%. It is possible to calculate Customer Equity (CE) because Customer Lifetime Value (CLV) can be measured with a reasonable degree of precision. CLV is the present value of the future (net) cash flows associated with each existing customer. It is a forward-looking concept, not to be confused with historic customer profitability. Not all customers are equally important to a firm. Maintaining long-term relation with all of them (especially the loss makers) is not optimal because eventually marketing is all about attracting and retaining profitable customers. Hence the objective of CLV is firstly on general topics of firm’s profitability and secondly as an input in customer acquisition decision and customer acquisition/retention trade-offs. Cost per acquisition (CPA) is the most used metric to gauge and guide firms’ customer acquisition efforts. Evaluating and running acquisition efforts based on CPA is suboptimal because by focusing too much on costs one tries very hard to drive them down as low as possible. Thinking rationally, firms like to think of customers as assets; so, instead on focusing on CPA a firm should focus on VPA (value per acquisition) i. e. , CLV. After a customer is acquired, customer relationship management (CRM) activities focus on retention and long-term customer relationship. A CLV model enables business to adopt suitable strategies for activities within the firm’s CRM. When developing a model for CLV estimation, one must distinguish the business scenario as either contractual or non-contractual. In a contractual setting, one observes the time at which customers “die”. A customer not renewing their insurance policy is an example of a no longer active (dead) customer. On the other hand; in a non-contractual setting, the time at which a customer becomes inactive is unobserved. An Amazon customer is an example of this case; a long period of no purchase does not signal that a customer is lost. The challenge of non-contractual settings is to differentiate between those customers who have ended their relationship with the firm verses those who are simply in the midst of a long hiatus between transactions. Another distinction is if the transactions are restricted to discrete points in time or can they occur at any point in time? In a continuous purchase scenario, the customer can make a purchase anytime, repeatedly and several times aday. These two dimensions lead to a classification of customer bases, as illustrated in Table 1. Table 1: Classification of Customer Bases:           Non-contractual Settings   Contractual Settings         Continuous Purchases   Grocery purchases, Ecommerce   Payback membership, Credit cards       Discrete Purchases   Event attendance, Prescription refills   Newspaper subscriptions, Most insurance policies   Overview of Modeling Techniques: Below is a list of some modelling techniques that have been proposed for continuous purchase non-contractual settings. These are broadly grouped into 2 kinds: Probabilistic and Machine learning models. Probabilistic models::  Pareto/NBD (Schmittlein, Morrison, and Colombo 1987) BG/NBD (P. Fader, Hardie, and Lee 2005) MBG/NBD (Batislam, Denizel, and Filiztekin 2007) Pareto/GGG (Platzer and Reutterer 2016) Gamma Gompertz G/G NBD Model (Bemmaor and Glady 2011) PDO model (Jerath, Fader, and Hardie 2011) MCMC Pareto/NBD and GG/NBD (Ma and Liu 2007) Hierarchical Bayes (Abe 2008)Machine learning models::  CART + logit/linear regression (Jamal and Zhang 2009) Hybrid methods (Hu et al. 2013) Engagement based CLV (Vanderveld et al. 2016)The reasoning of probabilistic or stochastic models is to describe and predict behavior using observed variables. Behavior is treated as if it were “random” (stochastic) and a model of “collective” individual-level behavior is suggested after accounting for heterogeneity across individuals. 3 fundamental behavioral processes are modelled which are count, timing and, choice; Table 2 summarizes these behaviors. Count in the present case represents the number of expected orders, timing the expected time between two successive orders and, finally choice reflects if a customer is willing to make a purchase or not. More complex interactions can be captured by combining models from each of these processes. Table 3 shows some use cases of these behavioral processes. Table 2: Summary of Probability Models:       Phenomenon   Individual-level   Heterogeneity   Model         Counting   Poisson   Gamma   NBD       Timing (continuous)   Exponential   Gamma   EG (Pareto)       Timing (discrete)   Geometric   Beta   BG       Choice   Binomial   Beta   BB   Table 3: Examples of Integrated Behavioural Modelling:       Phenomena   Example         Counting + Timing   Number of purchases given a customer is alive/dead       Counting + Counting   Number of purchases and revenue per transaction       Counting + Choice   Number of clicks on an online ad and eventual buy or not-buy   Hybrid machine learning techniques have shown better results over single machine learning algorithms. A typical example of such an approach is combining two-stages of decision trees in which the first clustering or classification approach is used to pre-process the data. Then, the output of first stage is used to make predictions. Machine learning models in contrast to stochastic models make no assumption on the distribution of purchase behavior but aim to find patterns from the input features. Additionally, because of varying feature sets among firms any existing framework needs to be tweaked to fit the needs of a particular business situation. Considering the fact that most firms do not have any models in place and rely on management heuristics, stochastic models are definitely a good first step towards CLV modelling. With this motivation 4 popular stochastic models, the Pareto/NBD, the BG/NBD, the MBG/NBD and, the Gamma-Gamma model are selected and discussed in the next part. "
    }, {
    "id": 8,
    "url": "https://gitdhiman.github.io/jupyter/2020/02/20/test.html",
    "title": "Fastpages Notebook Blog Post",
    "body": "2020/02/20 -           About This notebook is a demonstration of some of capabilities of fastpages with notebooks. With fastpages you can save your jupyter notebooks into the _notebooks folder at the root of your repository, and they will be automatically be converted to Jekyll compliant blog posts! Front Matter : Front Matter is a markdown cell at the beginning of your notebook that allows you to inject metadata into your notebook. For example: Setting toc: true will automatically generate a table of contentsSetting badges: true will automatically include GitHub and Google Colab links to your notebook. Setting comments: true will enable commenting on your blog post, powered by utterances. More details and options for front matter can be viewed on the front matter section of the README. Markdown Shortcuts : put a #hide flag at the top of any cell you want to completely hide in the docs put a #collapse-hide flag at the top of any cell if you want to hide that cell by default, but give the reader the option to show it:              #collapse-hideimport pandas as pdimport altair as alt       put a #collapse-show flag at the top of any cell if you want to show that cell by default, but give the reader the option to hide it:              #collapse-showcars = &#39;https://vega. github. io/vega-datasets/data/cars. json&#39;movies = &#39;https://vega. github. io/vega-datasets/data/movies. json&#39;sp500 = &#39;https://vega. github. io/vega-datasets/data/sp500. csv&#39;stocks = &#39;https://vega. github. io/vega-datasets/data/stocks. csv&#39;flights = &#39;https://vega. github. io/vega-datasets/data/flights-5k. json&#39;       Interactive Charts With Altair : Charts made with Altair remain interactive.  Example charts taken from this repo, specifically this notebook. Example 1: DropDown :       # single-value selection over [Major_Genre, MPAA_Rating] pairs# use specific hard-wired values as the initial selected valuesselection = alt. selection_single(  name=&#39;Select&#39;,  fields=[&#39;Major_Genre&#39;, &#39;MPAA_Rating&#39;],  init={&#39;Major_Genre&#39;: &#39;Drama&#39;, &#39;MPAA_Rating&#39;: &#39;R&#39;},  bind={&#39;Major_Genre&#39;: alt. binding_select(options=genres), &#39;MPAA_Rating&#39;: alt. binding_radio(options=mpaa)}) # scatter plot, modify opacity based on selectionalt. Chart(movies). mark_circle(). add_selection(  selection). encode(  x=&#39;Rotten_Tomatoes_Rating:Q&#39;,  y=&#39;IMDB_Rating:Q&#39;,  tooltip=&#39;Title:N&#39;,  opacity=alt. condition(selection, alt. value(0. 75), alt. value(0. 05)))    Example 2: Tooltips :       alt. Chart(movies). mark_circle(). add_selection(  alt. selection_interval(bind=&#39;scales&#39;, encodings=[&#39;x&#39;])). encode(  x=&#39;Rotten_Tomatoes_Rating:Q&#39;,  y=alt. Y(&#39;IMDB_Rating:Q&#39;, axis=alt. Axis(minExtent=30)), # use min extent to stabilize axis title placement  tooltip=[&#39;Title:N&#39;, &#39;Release_Date:N&#39;, &#39;IMDB_Rating:Q&#39;, &#39;Rotten_Tomatoes_Rating:Q&#39;]). properties(  width=600,  height=400)    Example 3: More Tooltips :       # select a point for which to provide details-on-demandlabel = alt. selection_single(  encodings=[&#39;x&#39;], # limit selection to x-axis value  on=&#39;mouseover&#39;, # select on mouseover events  nearest=True,  # select data point nearest the cursor  empty=&#39;none&#39;   # empty selection includes no data points)# define our base line chart of stock pricesbase = alt. Chart(). mark_line(). encode(  alt. X(&#39;date:T&#39;),  alt. Y(&#39;price:Q&#39;, scale=alt. Scale(type=&#39;log&#39;)),  alt. Color(&#39;symbol:N&#39;))alt. layer(  base, # base line chart    # add a rule mark to serve as a guide line  alt. Chart(). mark_rule(color=&#39;#aaa&#39;). encode(    x=&#39;date:T&#39;  ). transform_filter(label),    # add circle marks for selected time points, hide unselected points  base. mark_circle(). encode(    opacity=alt. condition(label, alt. value(1), alt. value(0))  ). add_selection(label),  # add white stroked text to provide a legible background for labels  base. mark_text(align=&#39;left&#39;, dx=5, dy=-5, stroke=&#39;white&#39;, strokeWidth=2). encode(    text=&#39;price:Q&#39;  ). transform_filter(label),  # add text labels for stock prices  base. mark_text(align=&#39;left&#39;, dx=5, dy=-5). encode(    text=&#39;price:Q&#39;  ). transform_filter(label),    data=stocks). properties(  width=700,  height=400)    Data Tables : You can display tables per the usual way in your blog:       movies = &#39;https://vega. github. io/vega-datasets/data/movies. json&#39;df = pd. read_json(movies)# display table with pandasdf[[&#39;Title&#39;, &#39;Worldwide_Gross&#39;,   &#39;Production_Budget&#39;, &#39;IMDB_Rating&#39;]]. head()           Title   Worldwide_Gross   Production_Budget   IMDB_Rating         0   The Land Girls   146083. 0   8000000. 0   6. 1       1   First Love, Last Rites   10876. 0   300000. 0   6. 9       2   I Married a Strange Person   203134. 0   250000. 0   6. 8       3   Let's Talk About Sex   373615. 0   300000. 0   NaN       4   Slam   1087521. 0   1000000. 0   3. 4     Images : Local Images : You can reference local images and they will be copied and rendered on your blog automatically.  You can include these with the following markdown syntax: ![](my_icons/fastai_logo. png) Remote Images : Remote images can be included with the following markdown syntax: ![](https://image. flaticon. com/icons/svg/36/36686. svg) Animated Gifs : Animated Gifs work, too! ![](https://upload. wikimedia. org/wikipedia/commons/7/71/ChessPawnSpecialMoves. gif) Captions : You can include captions with markdown images like this: ![](https://www. fast. ai/images/fastai_paper/show_batch. png  Credit: https://www. fast. ai/2020/02/13/fastai-A-Layered-API-for-Deep-Learning/ ) Other Elements Tweetcards : Typing &gt; twitter: https://twitter. com/jakevdp/status/1204765621767901185?s=20 will render this:Altair 4. 0 is released! https://t. co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t. co/roXmzcsT58 . . . read on for some highlights. pic. twitter. com/vWJ0ZveKbZ &mdash; Jake VanderPlas (@jakevdp) December 11, 2019 Youtube Videos : Typing &gt; youtube: https://youtu. be/XfoYk_Z5AkI will render this: Boxes / Callouts : Typing &gt; Warning: There will be no second warning! will render this:    Warning: There will be no second warning! Typing &gt; Important: Pay attention! It's important. will render this:    Important: Pay attention! It&#8217;s important. Typing &gt; Tip: This is my tip. will render this:    Tip: This is my tip. Typing &gt; Note: Take note of this. will render this:    Note: Take note of this. Typing &gt; Note: A doc link to [an example website: fast. ai](https://www. fast. ai/) should also work fine. will render in the docs:    Note: A doc link to an example website: fast. ai should also work fine. Footnotes : You can have footnotes in notebooks just like you can with markdown. For example, here is a footnote 1. This is the footnote. &#8617; "
    }, {
    "id": 9,
    "url": "https://gitdhiman.github.io/markdown/2020/01/14/test-markdown-post.html",
    "title": "Example Markdown Post",
    "body": "2020/01/14 - Basic setup: Jekyll requires blog post files to be named according to the following format: YEAR-MONTH-DAY-filename. md Where YEAR is a four-digit number, MONTH and DAY are both two-digit numbers, and filename is whatever file name you choose, to remind yourself what this post is about. . md is the file extension for markdown files. The first line of the file should start with a single hash character, then a space, then your title. This is how you create a “level 1 heading” in markdown. Then you can create level 2, 3, etc headings as you wish but repeating the hash character, such as you see in the line ## File names above. Basic formatting: You can use italics, bold, code font text, and create links. Here’s a footnote 1. Here’s a horizontal rule: Lists: Here’s a list:  item 1 item 2And a numbered list:  item 1 item 2Boxes and stuff:  This is a quotation    You can include alert boxes…and…    You can include info boxesImages: Code: General preformatted text: # Do a thingdo_thing()Python code and output: # Prints '2'print(1+1)2Tables:       Column 1   Column 2         A thing   Another thing   Tweetcards: Altair 4. 0 is released! https://t. co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t. co/roXmzcsT58 . . . read on for some highlights. pic. twitter. com/vWJ0ZveKbZ &mdash; Jake VanderPlas (@jakevdp) December 11, 2019Footnotes:       This is the footnote.  &#8617;    "
    }];

var idx = lunr(function () {
    this.ref('id')
    this.field('title')
    this.field('body')
    this.metadataWhitelist = ['position']

    documents.forEach(function (doc) {
        this.add(doc)
    }, this)
});
function lunr_search(term) {
    document.getElementById('lunrsearchresults').innerHTML = '<ul></ul>';
    if(term) {
        document.getElementById('lunrsearchresults').innerHTML = "<p>Search results for '" + term + "'</p>" + document.getElementById('lunrsearchresults').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><br /><span class='body'>"+ body +"</span><br /><span class='url'>"+ url +"</span></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>No results found...</li>";
        }
    }
    return false;
}